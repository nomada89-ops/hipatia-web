(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{9619:function(e,t,s){Promise.resolve().then(s.bind(s,1918))},1918:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var r=s(7437),a=s(2265),l=s(1436),i=s(1156),n=s(6940),d=s(7059),c=s(2994),o=s(8155),x=s(3250),m=s(2797),h=s(5481),u=s(8822),p=s(7031),g=s(999),b=s(4401),j=s(4822),f=s(1239),y=s(6899);function N(){let[e,t]=(0,a.useState)([]),[N,v]=(0,a.useState)(!0),[w,k]=(0,a.useState)("24h"),[C,A]=(0,a.useState)([]),[E,F]=(0,a.useState)([]);if((0,a.useEffect)(()=>{if(0!==e.length)try{let t=new Date,s=e.filter(e=>{if(!e.timestamp)return!1;try{if("all"===w)return!0;let s=e.timestamp.split(", ");if(2!==s.length)return!1;let[r,a]=s,[l,i,n]=r.split("/"),[d,c,o]=a.split(":");if(!l||!i||!n||!d||!c||!o)return!1;let x=new Date(Number(n),Number(i)-1,Number(l),Number(d),Number(c),Number(o)),m=(t.getTime()-x.getTime())/36e5;if("24h"===w)return m<=24;if("7d"===w)return m<=168;if("30d"===w)return m<=720;return!0}catch(t){return console.warn("Error parsing row:",e,t),!1}});A(s);let r=s.reduce((e,t)=>{let s=t.timestamp;return s&&t.name&&(e[s]||(e[s]={timestamp:s}),e[s][t.name]="number"==typeof t.power_ac?t.power_ac:0),e},{});F(Object.values(r).reverse())}catch(e){console.error("Critical error processing solar data:",e)}},[e,w]),(0,a.useEffect)(()=>{s.e(452).then(s.t.bind(s,5452,23)).then(e=>{let{default:s}=e;fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vR4r9EeA5D8J6iJ-JZunIMz7_6_m-YPvJRnYE3CJtluNAqxjMm8Ra1PUsRy8wtz873oT4uRf6hqUHjh/pub?gid=317467633&single=true&output=csv").then(e=>e.text()).then(e=>{let r=s.parse(e,{header:!0,skipEmptyLines:!0,transform:(e,t)=>{if(["power_ac","power_dc","voltage","current","efficiency","temperature"].includes(t)&&"string"==typeof e){let t=parseFloat(e.replace(",","."));return isNaN(t)?0:t}return e},dynamicTyping:!0});r.data&&t(r.data)}).catch(e=>console.error("Error fetching CSV:",e)).finally(()=>v(!1))})},[]),N)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:(0,r.jsx)(b.Z,{className:"animate-spin text-blue-500 w-10 h-10"})});let _=Array.from(new Set(C.map(e=>e.name))),S=C.length?Math.max(...C.map(e=>e.temperature||0)):0,B=C.length?(C.reduce((e,t)=>e+(t.efficiency||0),0)/C.length).toFixed(1):0,K=C.length?(C.reduce((e,t)=>e+(t.power_ac||0),0)/C.length).toFixed(0):0,D=["#3B82F6","#8B5CF6","#10B981","#F59E0B","#EF4444","#EC4899"];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-950 text-gray-100 p-6 font-sans",children:[(0,r.jsxs)("header",{className:"mb-8 flex justify-between items-end",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Inverter Analysis"}),(0,r.jsx)("div",{className:"flex gap-2 mt-4",children:["24h","7d","30d","all"].map(e=>(0,r.jsx)("button",{onClick:()=>k(e),className:"px-4 py-1.5 rounded-full text-sm font-medium transition-all ".concat(w===e?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:e.toUpperCase()},e))})]}),(0,r.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"Source: Google Sheets"}),(0,r.jsxs)("p",{children:[C.length," records shown"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"p-6 bg-gray-900/50 backdrop-blur rounded-xl border border-gray-800",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Inverters"}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-2",children:_.length})]}),(0,r.jsx)(j.Z,{className:"text-blue-500"})]})}),(0,r.jsx)("div",{className:"p-6 bg-gray-900/50 backdrop-blur rounded-xl border border-gray-800",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Avg Efficiency"}),(0,r.jsxs)("p",{className:"text-3xl font-bold mt-2",children:[B,"%"]})]}),(0,r.jsx)(f.Z,{className:"text-yellow-500"})]})}),(0,r.jsx)("div",{className:"p-6 bg-gray-900/50 backdrop-blur rounded-xl border border-gray-800",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Max Temperature"}),(0,r.jsxs)("p",{className:"text-3xl font-bold mt-2",children:[S,"\xb0C"]})]}),(0,r.jsx)(y.Z,{className:"text-red-500"})]})}),(0,r.jsx)("div",{className:"p-6 bg-gray-900/50 backdrop-blur rounded-xl border border-gray-800",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Avg Power Output"}),(0,r.jsxs)("p",{className:"text-3xl font-bold mt-2",children:[K," W"]})]}),(0,r.jsx)(b.Z,{className:"text-green-500"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 h-[400px] bg-gray-900/50 p-6 rounded-xl border border-gray-800",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"w-5 h-5 text-yellow-500"}),"Production Comparison (AC Power)"]}),(0,r.jsx)(l.h,{width:"100%",height:"100%",children:(0,r.jsxs)(i.w,{data:E,children:[(0,r.jsx)(n.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,r.jsx)(d.K,{dataKey:"timestamp",stroke:"#9CA3AF",tick:!1}),(0,r.jsx)(c.B,{stroke:"#9CA3AF"}),(0,r.jsx)(o.u,{contentStyle:{backgroundColor:"#111827",border:"1px solid #374151"}}),(0,r.jsx)(x.D,{}),_.map((e,t)=>(0,r.jsx)(m.x1,{type:"monotone",dataKey:e,stroke:D[t%D.length],strokeWidth:2,dot:!1},e))]})})]}),(0,r.jsxs)("div",{className:"h-[350px] bg-gray-900/50 p-6 rounded-xl border border-gray-800",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 text-red-500"}),"Temperature Trends"]}),(0,r.jsx)(l.h,{width:"100%",height:"100%",children:(0,r.jsxs)(h.T,{data:e,children:[(0,r.jsx)(n.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,r.jsx)(d.K,{dataKey:"timestamp",hide:!0}),(0,r.jsx)(c.B,{stroke:"#9CA3AF"}),(0,r.jsx)(o.u,{contentStyle:{backgroundColor:"#111827",border:"1px solid #374151"}}),(0,r.jsx)(u.uN,{type:"monotone",dataKey:"temperature",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.2})]})})]}),(0,r.jsxs)("div",{className:"h-[350px] bg-gray-900/50 p-6 rounded-xl border border-gray-800",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,r.jsx)(b.Z,{className:"w-5 h-5 text-blue-500"}),"Efficiency vs Power DC"]}),(0,r.jsx)(l.h,{width:"100%",height:"100%",children:(0,r.jsxs)(p.v,{data:e,children:[(0,r.jsx)(n.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,r.jsx)(d.K,{dataKey:"power_dc",hide:!0}),(0,r.jsx)(c.B,{yAxisId:"left",stroke:"#9CA3AF"}),(0,r.jsx)(c.B,{yAxisId:"right",orientation:"right",domain:[90,100],stroke:"#3B82F6"}),(0,r.jsx)(o.u,{contentStyle:{backgroundColor:"#111827",border:"1px solid #374151"}}),(0,r.jsx)(g.$Q,{yAxisId:"left",dataKey:"power_dc",fill:"#374151",name:"Power DC"}),(0,r.jsx)(m.x1,{yAxisId:"right",type:"monotone",dataKey:"efficiency",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Efficiency %"})]})})]})]})]})}}},function(e){e.O(0,[688,554,217,971,117,744],function(){return e(e.s=9619)}),_N_E=e.O()}]);